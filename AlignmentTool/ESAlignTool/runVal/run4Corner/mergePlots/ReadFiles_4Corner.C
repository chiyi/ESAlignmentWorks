#include "TROOT.h"
#include "TH1D.h"
#include "TFile.h"

void ReadFiles_4Corner()
{
 TH1D *h_ESpF_resiX_Right_ALL=new TH1D("h_ESpF_resiX_Right_ALL","Right",60,-3,3);
 TH1D *h_ESpF_resiX_Left_ALL=new TH1D("h_ESpF_resiX_Left_ALL","Left",60,-3,3);
 TH1D *h_ESpF_resiX_Top_ALL=new TH1D("h_ESpF_resiX_Top_ALL","Top",60,-3,3);
 TH1D *h_ESpF_resiX_Bottom_ALL=new TH1D("h_ESpF_resiX_Bottom_ALL","Bottom",60,-3,3);
 TH1D *h_ESpR_resiY_Right_ALL=new TH1D("h_ESpR_resiY_Right_ALL","Right",60,-3,3);
 TH1D *h_ESpR_resiY_Left_ALL=new TH1D("h_ESpR_resiY_Left_ALL","Left",60,-3,3);
 TH1D *h_ESpR_resiY_Top_ALL=new TH1D("h_ESpR_resiY_Top_ALL","Top",60,-3,3);
 TH1D *h_ESpR_resiY_Bottom_ALL=new TH1D("h_ESpR_resiY_Bottom_ALL","Bottom",60,-3,3);
 TH1D *h_ESmF_resiX_Right_ALL=new TH1D("h_ESmF_resiX_Right_ALL","Right",60,-3,3);
 TH1D *h_ESmF_resiX_Left_ALL=new TH1D("h_ESmF_resiX_Left_ALL","Left",60,-3,3);
 TH1D *h_ESmF_resiX_Top_ALL=new TH1D("h_ESmF_resiX_Top_ALL","Top",60,-3,3);
 TH1D *h_ESmF_resiX_Bottom_ALL=new TH1D("h_ESmF_resiX_Bottom_ALL","Bottom",60,-3,3);
 TH1D *h_ESmR_resiY_Right_ALL=new TH1D("h_ESmR_resiY_Right_ALL","Right",60,-3,3);
 TH1D *h_ESmR_resiY_Left_ALL=new TH1D("h_ESmR_resiY_Left_ALL","Left",60,-3,3);
 TH1D *h_ESmR_resiY_Top_ALL=new TH1D("h_ESmR_resiY_Top_ALL","Top",60,-3,3);
 TH1D *h_ESmR_resiY_Bottom_ALL=new TH1D("h_ESmR_resiY_Bottom_ALL","Bottom",60,-3,3);

 TFile *f_pF[2000];
 TFile *f_pR[2000];
 TFile *f_mF[2000];
 TFile *f_mR[2000];
 int ind=0;

 ind=1;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P1.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P1.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P1.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P1.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=2;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P2.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P2.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P2.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P2.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=3;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P3.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P3.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P3.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P3.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=4;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P4.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P4.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P4.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P4.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=5;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P5.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P5.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P5.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P5.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=6;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P6.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P6.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P6.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P6.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=7;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P7.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P7.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P7.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P7.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=8;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P8.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P8.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P8.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P8.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=9;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P9.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P9.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P9.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P9.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=10;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P10.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P10.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P10.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P10.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=11;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P11.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P11.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P11.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P11.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=12;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P12.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P12.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P12.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P12.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=13;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P13.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P13.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P13.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P13.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=14;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P14.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P14.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P14.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P14.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=15;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P15.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P15.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P15.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P15.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=16;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P16.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P16.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P16.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P16.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=17;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P17.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P17.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P17.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P17.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=18;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P18.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P18.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P18.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P18.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=19;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P19.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P19.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P19.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P19.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
 ind=20;
 f_pF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpF_4Corner_iter11_P20.root");
 h_ESpF_resiX_Right_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Right"));
 h_ESpF_resiX_Left_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Left"));
 h_ESpF_resiX_Top_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Top"));
 h_ESpF_resiX_Bottom_ALL->Add((TH1D*)f_pF[ind-1]->Get("h_ESpF_resiX_Bottom"));
 f_pF[ind-1]->Close();
 f_pR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESpR_4Corner_iter11_P20.root");
 h_ESpR_resiY_Right_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Right"));
 h_ESpR_resiY_Left_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Left"));
 h_ESpR_resiY_Top_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Top"));
 h_ESpR_resiY_Bottom_ALL->Add((TH1D*)f_pR[ind-1]->Get("h_ESpR_resiY_Bottom"));
 f_pR[ind-1]->Close();
 f_mF[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmF_4Corner_iter11_P20.root");
 h_ESmF_resiX_Right_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Right"));
 h_ESmF_resiX_Left_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Left"));
 h_ESmF_resiX_Top_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Top"));
 h_ESmF_resiX_Bottom_ALL->Add((TH1D*)f_mF[ind-1]->Get("h_ESmF_resiX_Bottom"));
 f_mF[ind-1]->Close();
 f_mR[ind-1]=TFile::Open("root://eoscms//eos/cms/store/group/alca_ecalcalib/ESalignment/5_3_6/run4CornerPlots/ESmR_4Corner_iter11_P20.root");
 h_ESmR_resiY_Right_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Right"));
 h_ESmR_resiY_Left_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Left"));
 h_ESmR_resiY_Top_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Top"));
 h_ESmR_resiY_Bottom_ALL->Add((TH1D*)f_mR[ind-1]->Get("h_ESmR_resiY_Bottom"));
 f_mR[ind-1]->Close();
//---Lower

 TFile *fw=new TFile("AddedPlots.root","RECREATE");
 fw->cd();
 h_ESpF_resiX_Right_ALL->Write();
 h_ESpF_resiX_Left_ALL->Write();
 h_ESpF_resiX_Top_ALL->Write();
 h_ESpF_resiX_Bottom_ALL->Write();
 h_ESpR_resiY_Right_ALL->Write();
 h_ESpR_resiY_Left_ALL->Write();
 h_ESpR_resiY_Top_ALL->Write();
 h_ESpR_resiY_Bottom_ALL->Write();
 h_ESmF_resiX_Right_ALL->Write();
 h_ESmF_resiX_Left_ALL->Write();
 h_ESmF_resiX_Top_ALL->Write();
 h_ESmF_resiX_Bottom_ALL->Write();
 h_ESmR_resiY_Right_ALL->Write();
 h_ESmR_resiY_Left_ALL->Write();
 h_ESmR_resiY_Top_ALL->Write();
 h_ESmR_resiY_Bottom_ALL->Write();

}
